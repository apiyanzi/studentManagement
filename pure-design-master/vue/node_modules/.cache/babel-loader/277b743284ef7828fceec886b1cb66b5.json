{"remainingRequest":"E:\\ieDownloads\\pure-design-master\\pure-design-master\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\ieDownloads\\pure-design-master\\pure-design-master\\vue\\src\\utils\\request.js","dependencies":[{"path":"E:\\ieDownloads\\pure-design-master\\pure-design-master\\vue\\src\\utils\\request.js","mtime":1654343673813},{"path":"E:\\ieDownloads\\pure-design-master\\pure-design-master\\vue\\babel.config.js","mtime":1653300116000},{"path":"E:\\ieDownloads\\pure-design-master\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654139112174},{"path":"E:\\ieDownloads\\pure-design-master\\pure-design-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1654139112747}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBzZXJ2ZXJJcCB9IGZyb20gJy4uLy4uL3B1YmxpYy9jb25maWcnOwp2YXIgcmVxdWVzdCA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogImh0dHA6Ly8iLmNvbmNhdChzZXJ2ZXJJcCwgIjo5MDkwIiksCiAgdGltZW91dDogMzAwMAp9KTsgLy8gcmVxdWVzdCDmi6bmiKrlmagKLy8g5Y+v5Lul6Ieq6K+35rGC5Y+R6YCB5YmN5a+56K+35rGC5YGa5LiA5Lqb5aSE55CGCi8vIOavlOWmgue7n+S4gOWKoHRva2Vu77yM5a+56K+35rGC5Y+C5pWw57uf5LiA5Yqg5a+GCgpyZXF1ZXN0LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCc7CiAgdmFyIHVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSA6IG51bGw7CgogIGlmICh1c2VyKSB7CiAgICBjb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IHVzZXIudG9rZW47IC8vIOiuvue9ruivt+axguWktAogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIHJlc3BvbnNlIOaLpuaIquWZqAovLyDlj6/ku6XlnKjmjqXlj6Plk43lupTlkI7nu5/kuIDlpITnkIbnu5PmnpwKCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsgLy8g5aaC5p6c5piv6L+U5Zue55qE5paH5Lu2CgogIGlmIChyZXNwb25zZS5jb25maWcucmVzcG9uc2VUeXBlID09PSAnYmxvYicpIHsKICAgIHJldHVybiByZXM7CiAgfSAvLyDlhbzlrrnmnI3liqHnq6/ov5Tlm57nmoTlrZfnrKbkuLLmlbDmja4KCgogIGlmICh0eXBlb2YgcmVzID09PSAnc3RyaW5nJykgewogICAgcmVzID0gcmVzID8gSlNPTi5wYXJzZShyZXMpIDogcmVzOwogIH0gLy8g5b2T5p2D6ZmQ6aqM6K+B5LiN6YCa6L+H55qE5pe25YCZ57uZ5Ye65o+Q56S6CgoKICBpZiAocmVzLmNvZGUgPT09ICc0MDEnKSB7CiAgICAvLyBFbGVtZW50VUkuTWVzc2FnZSh7CiAgICAvLyAgICAgbWVzc2FnZTogcmVzLm1zZywKICAgIC8vICAgICB0eXBlOiAnZXJyb3InCiAgICAvLyB9KTsKICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICB9CgogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["E:/ieDownloads/pure-design-master/pure-design-master/vue/src/utils/request.js"],"names":["axios","router","serverIp","request","create","baseURL","timeout","interceptors","use","config","headers","user","localStorage","getItem","JSON","parse","token","error","Promise","reject","response","res","data","responseType","code","push","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AAEA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC3BC,EAAAA,OAAO,mBAAYH,QAAZ,UADoB;AAE3BI,EAAAA,OAAO,EAAE;AAFkB,CAAb,CAAhB,C,CAKA;AACA;AACA;;AACAH,OAAO,CAACI,YAAR,CAAqBJ,OAArB,CAA6BK,GAA7B,CACE,UAAAC,MAAM,EAAI;AACRA,EAAAA,MAAM,CAACC,OAAP,CAAe,cAAf,IAAiC,gCAAjC;AACA,MAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA+BC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA/B,GAA0E,IAArF;;AACA,MAAIF,IAAJ,EAAU;AACRF,IAAAA,MAAM,CAACC,OAAP,CAAe,OAAf,IAA0BC,IAAI,CAACK,KAA/B,CADQ,CAC8B;AACvC;;AAED,SAAOP,MAAP;AACD,CATH,EAUE,UAAAQ,KAAK,EAAI;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAZH,E,CAeA;AACA;;AACAd,OAAO,CAACI,YAAR,CAAqBa,QAArB,CAA8BZ,GAA9B,CACE,UAAAY,QAAQ,EAAI;AACV,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB,CADU,CAEV;;AACA,MAAIF,QAAQ,CAACX,MAAT,CAAgBc,YAAhB,KAAiC,MAArC,EAA6C;AAC3C,WAAOF,GAAP;AACD,GALS,CAMV;;;AACA,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,IAAAA,GAAG,GAAGA,GAAG,GAAGP,IAAI,CAACC,KAAL,CAAWM,GAAX,CAAH,GAAqBA,GAA9B;AACD,GATS,CAUV;;;AACA,MAAIA,GAAG,CAACG,IAAJ,KAAa,KAAjB,EAAwB;AACtB;AACA;AACA;AACA;AACAvB,IAAAA,MAAM,CAACwB,IAAP,CAAY,QAAZ;AACD;;AACD,SAAOJ,GAAP;AACD,CApBH,EAqBE,UAAAJ,KAAK,EAAI;AACPS,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAQV,KAApB,EADO,CACqB;;AAC5B,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAxBH;AA2BA,eAAed,OAAf","sourcesContent":["import axios from 'axios';\nimport router from '@/router';\nimport { serverIp } from '../../public/config';\n\nconst request = axios.create({\n  baseURL: `http://${serverIp}:9090`,\n  timeout: 3000,\n});\n\n// request 拦截器\n// 可以自请求发送前对请求做一些处理\n// 比如统一加token，对请求参数统一加密\nrequest.interceptors.request.use(\n  config => {\n    config.headers['Content-Type'] = 'application/json;charset=utf-8';\n    let user = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null;\n    if (user) {\n      config.headers['token'] = user.token; // 设置请求头\n    }\n\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\n// response 拦截器\n// 可以在接口响应后统一处理结果\nrequest.interceptors.response.use(\n  response => {\n    let res = response.data;\n    // 如果是返回的文件\n    if (response.config.responseType === 'blob') {\n      return res;\n    }\n    // 兼容服务端返回的字符串数据\n    if (typeof res === 'string') {\n      res = res ? JSON.parse(res) : res;\n    }\n    // 当权限验证不通过的时候给出提示\n    if (res.code === '401') {\n      // ElementUI.Message({\n      //     message: res.msg,\n      //     type: 'error'\n      // });\n      router.push('/login');\n    }\n    return res;\n  },\n  error => {\n    console.log('err' + error); // for debug\n    return Promise.reject(error);\n  }\n);\n\nexport default request;\n"]}]}